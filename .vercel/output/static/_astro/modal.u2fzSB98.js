import{r as o,a as M,j as r}from"./react-core.DhkiIPoq.js";let l=null;function C(){return l||(typeof document>"u"?null:(l=document.body,l))}const L={center:"flex items-center justify-center","bottom-left":"flex items-end justify-start p-4","bottom-right":"flex items-end justify-end p-4","top-left":"flex items-start justify-start p-4","top-right":"flex items-start justify-end p-4"};function P({isOpen:t,onClose:a,children:g,closeButton:p=!0,closeButtonClass:h="absolute top-4 right-4",overlayClass:b="bg-black bg-opacity-50",className:x="bg-bg shadow-xl p-6 rounded-lg max-w-lg w-full mx-4",allowScroll:f=!1,ariaLabel:v,ariaDescribedBy:w,position:E="center",ssr:i=!0}){const[e,s]=o.useState(i?t:!1),u=o.useRef(null),c=o.useRef(null);o.useEffect(()=>{!i&&!e&&s(!0)},[i,e]),o.useEffect(()=>{t&&(s(!0),c.current=document.activeElement)},[t]),o.useEffect(()=>{if(!e||!t||f)return;const n=document.body.style.overflow,d=document.body.style.paddingRight,y=window.innerWidth-document.documentElement.clientWidth;return document.body.style.overflow="hidden",y>0&&(document.body.style.paddingRight=`${y}px`),()=>{document.body.style.overflow=n,document.body.style.paddingRight=d}},[e,t,f]),o.useEffect(()=>{if(!e||!t)return;const n=d=>{d.key==="Escape"&&a()};return document.addEventListener("keydown",n,{passive:!0}),()=>{document.removeEventListener("keydown",n)}},[e,t,a]),o.useEffect(()=>(e&&t&&u.current&&requestAnimationFrame(()=>{u.current?.focus()}),()=>{!t&&c.current&&requestAnimationFrame(()=>{c.current?.focus()})}),[e,t]);const j=()=>{t||s(!1)},k=n=>{n.target===n.currentTarget&&a()},R=n=>{n.stopPropagation()},$=t?"pointer-events-auto":"pointer-events-none";if(!i&&!e||!e)return null;const m=C();return m?M.createPortal(r.jsx("div",{className:`fixed inset-0 z-[9999] ${L[E]} ${b} transform transition-opacity duration-300 ease-in-out ${t?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:k,onTransitionEnd:j,role:"dialog","aria-modal":"true","aria-label":v,"aria-describedby":w,children:r.jsxs("div",{ref:u,className:`relative ${x} ${$} transform-gpu transition-all duration-300 ease-in-out origin-center ${t?"scale-100 translate-y-0 opacity-100":"scale-95 translate-y-4 opacity-0"}`,onClick:R,tabIndex:-1,children:[p&&r.jsx("button",{onClick:a,className:h,"aria-label":"Close modal",type:"button",children:r.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})}),g]})}),m):null}const A=o.memo(P);export{A as M};
