import{r as u,j as e}from"./react-core.DhkiIPoq.js";function f({title:o,url:i,slug:c,children:m=[],openInNewTab:r=!1,onNavigate:n,level:l=0}){const[s,h]=u.useState(!1),p=m.length>0,t=l*16;if(p){const d=!!i;return e.jsxs("li",{children:[e.jsx("div",{className:"flex items-center hover:bg-light-primary/10 rounded-md transition-colors",style:{paddingLeft:`${t+16}px`},children:d?e.jsxs("a",{href:i,onClick:n,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,className:"flex items-center gap-2 py-3 font-medium text-light-primary hover:text-light-primary/90 transition-colors",children:[e.jsx("span",{children:o}),e.jsx("button",{onClick:a=>{a.preventDefault(),a.stopPropagation(),h(!s)},className:"text-light-primary hover:text-light-primary/90 transition-colors","aria-expanded":s,"aria-controls":`mobile-submenu-${c}`,"aria-label":s?`Collapse ${o}`:`Expand ${o}`,type:"button",children:e.jsx("svg",{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}):e.jsxs("button",{type:"button",onClick:()=>h(!s),className:"flex items-center gap-2 py-3 text-left font-medium text-light-primary hover:text-light-primary/90 transition-colors","aria-expanded":s,"aria-controls":`mobile-submenu-${c}`,children:[e.jsx("span",{children:o}),e.jsx("svg",{className:`w-4 h-4 transition-transform ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),s&&e.jsx("ul",{id:`mobile-submenu-${c}`,className:"mt-1 space-y-1",children:m.map(a=>e.jsx(f,{...a,onNavigate:n,level:l+1},a.slug||a.id))})]})}return i?e.jsx("li",{children:e.jsx("a",{href:i,onClick:n,target:r?"_blank":void 0,rel:r?"noopener noreferrer":void 0,className:"block py-3 px-4 text-light-primary hover:text-light-primary/90 hover:bg-light-primary/10 rounded-md transition-colors",style:{paddingLeft:`${t+16}px`},children:o})}):null}function g({isOpen:o,onChange:i,hamburgerTransform:c=!0,className:m="",ariaLabel:r="Toggle menu",id:n="hamburger-menu"}){const l=c&&o;return e.jsxs("div",{className:`relative z-[100000] ${m}`,children:[e.jsx("input",{type:"checkbox",id:n,checked:o,onChange:s=>i(s.target.checked),className:"sr-only","aria-label":r}),e.jsx("label",{htmlFor:n,className:"cursor-pointer p-2 text-light-primary inline-flex items-center justify-center",children:e.jsxs("div",{className:"w-6 h-5 relative flex items-center justify-center",children:[e.jsx("span",{className:`absolute h-0.5 w-full bg-current rounded-full transition-all duration-300 ease-in-out origin-center ${l?"rotate-45":"-translate-y-2"}`}),e.jsx("span",{className:`absolute h-0.5 w-full bg-current rounded-full transition-all duration-300 ease-in-out ${l?"opacity-0 scale-0":"opacity-100 scale-100"}`}),e.jsx("span",{className:`absolute h-0.5 w-full bg-current rounded-full transition-all duration-300 ease-in-out origin-center ${l?"-rotate-45":"translate-y-2"}`})]})})]})}const v=u.memo(g);function j({items:o,className:i="",hamburgerTransform:c=!0,closeButton:m=!1}){const[r,n]=u.useState(!1),[l,s]=u.useState(0),h=u.useRef(null);u.useEffect(()=>{if(!r)return;const t=a=>{const x=a.target;!x||!h.current||h.current.contains(x)||n(!1)},d=a=>{a.key==="Escape"&&n(!1)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),document.addEventListener("keydown",d),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t),document.removeEventListener("keydown",d)}},[r]),u.useEffect(()=>{const t=()=>{const d=document.querySelector("header");if(!d)return;const a=d.getBoundingClientRect();s(a.bottom)};return t(),window.addEventListener("resize",t),window.addEventListener("scroll",t,{passive:!0}),()=>{window.removeEventListener("resize",t),window.removeEventListener("scroll",t)}},[]);const p=()=>{n(!1)};return e.jsxs("div",{ref:h,className:"relative",children:[e.jsx(v,{isOpen:r,onChange:n,hamburgerTransform:c,ariaLabel:r?"Close menu":"Open menu",id:"mobile-menu-toggle"}),e.jsx("div",{className:`fixed left-0 right-0 z-50 w-screen transform transition-all duration-200 ${r?"pointer-events-auto translate-y-0 opacity-100":"pointer-events-none -translate-y-2 opacity-0"}`,style:{top:`${l}px`},"aria-hidden":!r,children:e.jsxs("div",{className:"bg-primary text-light-primary shadow-xl border-3 border-light-primary rounded-xl",children:[m&&e.jsx("div",{className:"flex items-center justify-end bg-primary text-light-primary px-6 py-4",children:e.jsx("button",{onClick:()=>n(!1),className:"text-light-primary/90 hover:text-light-primary transition-colors","aria-label":"Close menu",type:"button",children:e.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})})})}),e.jsx("nav",{className:`${i} max-h-[70vh] overflow-y-auto p-4 text-light-primary`,"aria-label":"Mobile navigation",children:e.jsx("ul",{className:"space-y-1",children:o.map(t=>e.jsx(f,{...t,onNavigate:p},t.slug||t.id))})})]})})]})}export{j as default};
