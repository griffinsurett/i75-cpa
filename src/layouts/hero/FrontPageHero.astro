---
import Button from "@/components/Button/Button";
import Heading from "@/components/Heading";
import BgImageFallback from "@/assets/i75/i75road.jpg";

const {
  id = "hero",
  class: className = "",
  backgroundImage = BgImageFallback,
  titleBefore = "Welcome To ",
  titleText = "i75!",
  titleAfter = " The Right Road to Passing the CPA Exam!",
  description,
  ctaText,
  ctaHref,
  ctaVariant = "primary",
  ctaClass = "h4",
  partsClass = "left-1/2 bottom-0 z-50 flex w-full justify-center items-center -mb-[120px]",
} = Astro.props;

const backgroundUrl =
  typeof backgroundImage === "string"
    ? backgroundImage
    : backgroundImage?.src ?? BgImageFallback.src;
---

<section id={id} class={`relative overflow-visible ${className}`}>
  <div
    class="relative bg-cover bg-center bg-fixed min-h-[80vh] xl:min-h-[100vh] flex flex-col items-center justify-center gap-8 md:gap-12 py-12 md:py-16 xl:py-20"
    style={`background-image: url("${backgroundUrl}");`}
  >
    <div class="absolute inset-0 bg-dark-primary/35"></div>

    <div class="relative w-8/10 z-10 text-center flex justify-center items-center flex-col m-0">
      <Heading
        className="text-light-primary drop-shadow-xl h1"
        before={titleBefore}
        beforeClass="beforeAndAfterHeadingClass"
        text={titleText}
        after={titleAfter}
        afterClass="beforeAndAfterHeadingClass"
      />
      {description && (
        <p class="text-light-primary/90 text-lg md:text-xl max-w-5xl">
          {description}
        </p>
      )}

      {(ctaText || ctaHref) && (
        <div class="pt-6 md:pt-8 flex justify-center flex-wrap gap-4 md:gap-6">
          <Button variant={ctaVariant} className={ctaClass} href={ctaHref}>
            {ctaText}
          </Button>
        </div>
      )}
    </div>

    <div class={partsClass}>
      <slot name="parts" />
    </div>
  </div>
</section>
