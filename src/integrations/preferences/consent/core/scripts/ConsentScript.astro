---
// src/integrations/preferences/core/consent/scripts/ConsentScript.astro
/**
 * Consent Script Initialization
 *
 * Pure inline script - no bundling, no module preloading.
 * For returning users with consent: dispatches event that triggers
 * script loading in CookieConsentBanner when it hydrates.
 */
---

<script is:inline>
  // Check consent and notify - CookieConsentBanner handles the heavy lifting
  (function() {
    if (!document.cookie.includes('cookie-consent=')) return;
    // Mark that consent exists for components to check
    window.__CONSENT_EXISTS__ = true;
  })();
</script>
