---
// src/components/LoopComponents/SocialIcon.astro
/**
 * Social Icon Component
 * 
 * Individual social media icon with:
 * - Circular background
 * - Hover scale effect
 * - Size variants (sm, md, lg)
 * - Optional link
 * - Accessibility labels
 * 
 * Used in SocialMediaVariant for social media links.
 */

import Icon from '@/components/Icon';

export interface Props {
  title: string;              // Platform name (for aria-label)
  link?: string;             // URL to social profile
  icon?: any;                // Icon identifier
  size?: 'sm' | 'md' | 'lg'; // Icon size
}

const { title, link, icon, size = 'md' } = Astro.props;

// Default to globe icon if none specified
const displayIcon = icon || 'lu:globe';

// Icon size mapping
const iconSize = size === "md" ? "2xl" : size === "sm" ? "xl" : "3xl";
---

{/* Render as link if URL provided */}
{link ? (
  <a
    href={link}
    target="_blank"
    rel="noopener noreferrer"
    class="inline-flex items-center justify-center transition-all duration-200 hover:scale-110"
    aria-label={`Visit our ${title} page`}
    title={title}
  >
    <Icon icon={displayIcon} size={iconSize} className="text-light-primary" />
  </a>
) : (
  /* Otherwise just display icon */
  <div
    class="inline-flex items-center justify-center"
    title={title}
  >
    <Icon icon={displayIcon} size={iconSize} className="text-light-primary" />
  </div>
)}
