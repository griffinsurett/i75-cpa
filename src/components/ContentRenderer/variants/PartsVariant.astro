---
import PartCard from "@/components/PartCard.astro";

const {
  items = [],
  className = "",
  id,
} = Astro.props;

const colorMap = {
  far: "var(--color-far)",
  audit: "var(--color-audit)",
  aud: "var(--color-audit)",
  reg: "var(--color-reg)",
  isc: "var(--color-isc)",
  tcp: "var(--color-tcp)",
  bar: "var(--color-bar)",
};

const resolveColor = (item) => {
  const key = (item.slug || item.title || "").toString().toLowerCase();
  return colorMap[key] || undefined;
};
---

<div id={id} class={`grid grid-cols-3 gap-2 lg:gap-4 inner-section ${className}`}>
  {items.map((item) => (
    <PartCard
      title={item.title}
      href={item.url}
      color={resolveColor(item)}
    />
  ))}
</div>
