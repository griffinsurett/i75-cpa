---
// src/components/LoopTemplates/Menu/MenuList.astro
/**
 * Menu List Component
 *
 * Renders <ul> wrapper for menu items.
 * Handles styling for different nesting levels.
 */
import MenuItem from "@/components/LoopComponents/Menu/MenuItem.astro";

export interface Props {
  items: any[];
  level?: number;
  maxDepth?: number;
  listClassName?: string;
  submenuListClassName?: string;
  itemClassName?: string;
  linkClassName?: string;
  submenuLinkClassName?: string;
}

const {
  items = [],
  level = 0,
  maxDepth,
  listClassName,
  submenuListClassName,
  itemClassName,
  linkClassName,
  submenuLinkClassName,
} = Astro.props as Props;
const isTopLevel = level === 0;
const defaultListClassName = isTopLevel
  ? "flex items-center gap-6 lg:gap-10 text-light-primary"
  : "absolute left-0 top-full min-w-[240px] bg-primary text-light-primary py-1 z-50 border-2 border-light-primary shadow-none";
const resolvedListClassName = isTopLevel
  ? listClassName ?? defaultListClassName
  : submenuListClassName ?? defaultListClassName;
---

<ul
  class={resolvedListClassName}
>
  {items.map((item) => (
    <MenuItem
      {...item}
      level={level}
      maxDepth={maxDepth}
      itemClassName={itemClassName}
      linkClassName={linkClassName}
      submenuLinkClassName={submenuLinkClassName}
    />
  ))}
</ul>
